"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[595],{9595:function(e,s,t){t.r(s),t.d(s,{default:function(){return $}});var i=t(5671),o=t(3144),n=t(136),r=t(516),a=t(8683),l=t(2791),c=t(885),u=t(5987),f={profile_body:"ProfileInfo_profile_body__jtYAV",profile_body_children:"ProfileInfo_profile_body_children__ze+81",profile_center:"ProfileInfo_profile_center__7Cx5P",editPanel:"ProfileInfo_editPanel__wbUvs",profile_left:"ProfileInfo_profile_left__uA-pG",description:"ProfileInfo_description__fA7f-",profile_right:"ProfileInfo_profile_right__cmR8v",formSummaryError:"ProfileInfo_formSummaryError__aLh-o",input_file_button:"ProfileInfo_input_file_button__LofKf",titleOfEditPanel:"ProfileInfo_titleOfEditPanel__xiK2G",separateLine:"ProfileInfo_separateLine__zfYp9",inputWrapper:"ProfileInfo_inputWrapper__RGxms",inputFile:"ProfileInfo_inputFile__Y6KEk"},p=t(780),d=t(2752),h=t(184),m=function(e){var s=(0,l.useState)(!1),t=(0,c.Z)(s,2),i=t[0],o=t[1],n=(0,l.useState)(e.status),r=(0,c.Z)(n,2),a=r[0],u=r[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,h.jsxs)("div",{children:[!i&&(0,h.jsx)("div",{children:(0,h.jsxs)("span",{onDoubleClick:function(){o(!0)},children:[(0,h.jsx)("span",{className:"allocator",children:"Status:"})," ",e.status||"undefined :/ "]})}),i&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:a,onBlur:function(){o(!1),e.updateStatus(a)}})})]})},_=t(2049),x=(0,_.W)("input"),j=function(e){var s=e.handleSubmit,t=e.profile;e.error;return(0,h.jsx)("div",{className:f.profile_center,children:(0,h.jsx)("div",{className:f.description,children:(0,h.jsxs)("form",{onSubmit:s,children:[(0,h.jsx)("h2",{className:f.titleOfEditPanel,children:"Basic information:"}),(0,h.jsxs)("div",{className:f.editPanel,children:[(0,h.jsxs)("li",{children:["Full name: ",(0,_.S)("Full name","fullName",[],x)]}),(0,h.jsxs)("li",{children:["Looking for a job: ",(0,_.S)("","lookingForAJob",[],x,{type:"checkbox"})]}),(0,h.jsxs)("li",{className:f.separateLine,children:["My skills: ",(0,_.S)("","lookingForAJobDescription",[],(0,_.W)("textarea"))]}),(0,h.jsxs)("li",{children:["About me: ",(0,_.S)("About me","aboutMe",[],(0,_.W)("textarea"))]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"Contacts:"}),(0,h.jsx)("li",{className:f.editPanel,children:Object.keys(t.contacts).map((function(e){return(0,h.jsxs)("li",{children:[e,":",(0,_.S)(e,"contacts."+e,[],(0,_.W)("input"))]})}))})]})]}),(0,h.jsx)("button",{className:"buttonStyle",children:"Save"})]})})})},P=t(704),v=["profile","savePhoto","saveProfile"],g=(0,P.Z)({form:"profileData"})(j),b=function(e){var s=e.profile,t=e.props;return(0,h.jsx)("div",{className:f.profile_center,children:(0,h.jsxs)("div",{className:f.description,children:[(0,h.jsx)("h3",{children:s.fullName}),(0,h.jsx)(m,{status:t.status,updateStatus:t.updateStatus}),(0,h.jsxs)("li",{children:[(0,h.jsx)("span",{className:"allocator",children:"Looking for a job:"})," ",s.lookingForAJob?"yes":"no"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("span",{className:"allocator",children:"My skills:"})," ",s.lookingForAJobDescription?s.lookingForAJobDescription:"nothing"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("span",{className:"allocator",children:"About me:"})," ",s.aboutMe?s.aboutMe:"nothing"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("span",{className:"allocator",children:"Contacts:"})," "]}),(0,h.jsx)("li",{children:Object.keys(s.contacts).map((function(e){return(0,h.jsx)(N,{contactTitle:e,contactValue:s.contacts[e]},e)}))})]})})},N=function(e){var s=e.contactTitle,t=e.contactValue;return t?(0,h.jsxs)("div",{className:f.contacts,children:[(0,h.jsxs)("span",{className:"allocator",children:[s,":"]})," ",t]}):null},y=function(e){var s=e.profile,t=e.savePhoto,i=e.saveProfile,o=(0,u.Z)(e,v),n=(0,l.useState)(!1),r=(0,c.Z)(n,2),a=r[0],m=r[1];if(!s)return(0,h.jsx)(d.Z,{});return(0,h.jsxs)("div",{className:f.profile_body,children:[(0,h.jsxs)("div",{className:f.profile_body_children,children:[(0,h.jsxs)("div",{className:f.profile_left,children:[(0,h.jsx)("img",{src:s.photos.large?s.photos.large:p}),o.isOwner&&(0,h.jsxs)("div",{className:f.editPanel,children:[(0,h.jsx)("button",{className:"buttonStyle",onClick:function(){m(!0)},children:"Edit"}),a&&(0,h.jsx)("button",{className:"buttonStyle",onClick:function(){m(!1)},children:"Back"})]})]}),a?(0,h.jsx)(g,{onSubmit:function(e){i(e).then((function(){m(!1)}))},initialValues:s,profile:s}):(0,h.jsx)(b,{profile:s,props:o})]}),(0,h.jsx)("div",{className:f.profile_right,children:o.isOwner&&(0,h.jsxs)("div",{className:f.inputWrapper,children:[(0,h.jsx)("input",{type:"file",name:"file",id:"inputFile",className:f.inputFile,onChange:function(e){e.target.files.length&&t(e.target.files[0])}}),(0,h.jsx)("label",{className:f.input_file_button,htmlFor:"inputFile",children:"Change ava"})]})})]})},S=t(8687),k="MyPost_all_posts__W3ivf",I="MyPost_content_input__eJHkS",O="MyPost_message_answer__OHt0U",C="MyPost_input__Y+V-S",A="MyPost_input__wrapper__L+8k4",D="MyPost_input__file__+IpDB",w="MyPost_input__file_button__sNOLT",M="Post_post__zObHh",F="Post_post_text__amRvV",Z="Post_post_image__UyEav",T="Post_profile_post__Iiqq8",L=function(e){return(0,h.jsxs)("div",{className:M,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:Z,children:(0,h.jsx)("img",{src:e.imageOfPost})}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:T,children:[(0,h.jsx)("a",{children:(0,h.jsx)("img",{src:e.imagePath})}),(0,h.jsx)("a",{children:(0,h.jsx)("h5",{children:e.nameOfUser?e.nameOfUser:"no name user"})}),(0,h.jsxs)("button",{children:[e.countLikes," likes"]})]})})]}),(0,h.jsx)("div",{className:F,children:(0,h.jsx)("p",{children:e.message})})]})},U=t(6139),E=function(e){return(0,h.jsxs)("form",{className:O,onSubmit:e.handleSubmit,children:[(0,h.jsxs)("div",{className:I,children:[(0,h.jsx)(U.Z,{name:"newPostText",component:"input",placeholder:"Enter your text for the post",className:C}),(0,h.jsxs)("div",{className:A,children:[(0,h.jsx)("input",{type:"file",name:"file",id:"input__file",className:D,onChange:function(s){var t=s.target,i=new FileReader;i.readAsDataURL(t.files[0]),i.onload=function(){e.checkPostPhoto(t,i.result)},t.files.length||alert("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e")}}),(0,h.jsx)("label",{className:w,htmlFor:"input__file",children:"Select an image"})]})]}),e.imagePostChooseMode?(0,h.jsx)("button",{type:"submit",className:"buttonStyle",children:"Submit"}):(0,h.jsx)("h1",{children:"Picture not selected"})]})},J=t(2381),W=(0,P.Z)({form:"post",onSubmitSuccess:function(e,s){return s((0,J.mc)("post"))}})(E);var R=function(e){var s=e.profileData.map((function(e){return(0,h.jsx)(L,{message:e.message,ountLikes:e.countLikes,imagePath:e.imagePath,imageOfPost:e.imageOfPost,nameOfUser:e.nameOfUser},e.id)}));return(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"All posts"}),e.isOwner&&(0,h.jsx)(W,{pathToTheImagePost:e.pathToTheImagePost,onSubmit:function(s){e.addPostAC(s.newPostText)},checkPostPhoto:e.checkPostPhoto,imagePostChooseMode:e.imagePostChooseMode}),(0,h.jsx)("div",{className:k,children:s})]})},V=t(3708),B=(0,S.$j)((function(e,s){return{profileData:e.profileData.MyPostsData,imagePostChooseMode:e.profileData.imagePostChooseMode,pathToTheImagePost:e.profileData.pathToTheImagePost,isOwner:s.isOwner}}),{addPostAC:V.Pi,checkPostPhoto:V.bJ})(R),H="Profile_wrapper__laFLh",Y=function(e){return(0,h.jsxs)("div",{className:H,children:[(0,h.jsx)(y,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile,savePhoto:e.savePhoto}),(0,h.jsx)(B,{isOwner:e.isOwner})]})},q=t(7689),z=t(249),G=t(7781);var K=function(e){(0,n.Z)(t,e);var s=(0,r.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.userID),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidUpdate",value:function(e,s,t){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(Y,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),$=(0,G.qC)((0,S.$j)((function(e){return{profile:e.profileData.ProfileInfoData,status:e.profileData.Status,userID:e.Auth.id,userIsAuth:e.Auth.isAuth}}),{setUserProfileAC:V.kC,getProfile:V.Ai,getStatus:V.lR,updateStatus:V.Nf,savePhoto:V.Ju,saveProfile:V.Ii}),(function(e){return function(s){var t=(0,q.TH)(),i=(0,q.s0)(),o=(0,q.UO)();return(0,h.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{router:{location:t,navigate:i,params:o}}))}}),z.e)(K)}}]);
//# sourceMappingURL=595.289fad04.chunk.js.map